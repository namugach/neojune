import os
from ....kipris.core.parsing.KiprisFetcher import KiprisFetcher, KiprisFetchData

    
def main():
    page_path = f"{os.path.dirname(os.path.abspath(__file__))}/page"
    def open_file(file_path):
        with open(file_path, "r") as f:
            content = f.read()
            
        return content
    page1 = open_file(f"{page_path}/1.page.xml")
    page2 = open_file(f"{page_path}/2.page.xml")
    page3 = open_file(f"{page_path}/3.page.xml")
    
    fetch_data = KiprisFetchData(120080091393, 10, [page1, page2, page3])
    print(vars(fetch_data))
    # 출력 결과
    # {'applicant_number': 120080091393, 'applicant_id': 10, 'xml_str_list':[
    #   '<?xml version="1.0" encoding="UTF-8"?>.........',
    #   '<?xml version="1.0" encoding="UTF-8"?>.........',
    #   '<?xml version="1.0" encoding="UTF-8"?>.........'
    # ]}


# fetch_data 상세 출력

"""
{
    'applicant_number': 120080091393, 'applicant_id': 10, 
    'xml_str_list': [
        '<?xml version="1.0" encoding="UTF-8"?><response><header><resultCode></resultCode><resultMsg></resultMsg></header><body><items><PatentUtilityInfo><Applicant>동의대학교 산학협력단</Applicant><ApplicationDate>20221230</ApplicationDate><ApplicationNumber>1020220190309</ApplicationNumber><Abstract>본 발명은 탈부착 가능한 반려동물 발 세척 및 건조장치에 대한 발명으로, 구체적으로 사용자가 반려동물의 발을 세척하고자 할 경우, 반려동물의 발을 세척부, 헹굼부, 건조부로 각각 이동시키지 않아도 본체부의 상부를 회전시켜 세척부, 헹굼부 및 건조부의 위치를 이동시킬 수 있어 사용 편의성이 향상되는 효과가 있는 세척 장치에 관한 발명이다.</Abstract><DrawingPath> http://plus.kipris.or.kr/kiprisplusws/fileToss.jsp?arg=6c650beb4cee9ce4122b704b88878c938826990045ec5c6d3f157225867559b21add52c78aef528459d5c482d26b0c984394e0d4887d21752cba627ebc4491577dffd392ec29a083</DrawingPath><ThumbnailPath> http://plus.kipris.or.kr/kiprisplusws/fileToss.jsp?arg=ed43a0609e94d6e22d01c5c32ba711cf66b532a156c4392b4b70f234fc58dad65edee41883694b7e36b612f56b1c1678aea48f1c8c98b42e7948f2542be98e7946563485bb7a5b84</ThumbnailPath><SerialNumber>1</SerialNumber><InventionName>탈부착 가능한 반려동물 발 세척 및 건조장치</InventionName><InternationalpatentclassificationNumber>A01K 13/00|B08B 1/32|B08B 1/00</InternationalpatentclassificationNumber><OpeningDate>20240709</OpeningDate><OpeningNumber>1020240107554</OpeningNumber><PublicNumber></PublicNumber><PublicDate></PublicDate><RegistrationDate></RegistrationDate><RegistrationNumber></RegistrationNumber><RegistrationStatus>공개</RegistrationStatus></PatentUtilityInfo><PatentUtilityInfo><Applicant>동의대학교 산학협력단</Applicant><ApplicationDate>20170928</ApplicationDate><ApplicationNumber>1020170126044</ApplicationNumber><Abstract>본 발명에 따른 급성 안면통증 예방 및 개선용 조성물은 블랙 커런트(black currant, 카시스 베리) 추출물, 아사이베리(acaiberry) 추출물, 크렌베리(cranberry) 추출물, 블루베리(blueberry) 추출물 및 이들의 혼합물로 이루어진 군에서 선택된 베리류 추출물을 유효성분으로 포함하는 것이다. 본 발명의 유래의 급성 안면통증 예방 및 개선용 조성물에 의하면 급성 안면통증을 완화시킬 수 있다.</Abstract><DrawingPath> http://plus.kipris.or.kr/kiprisplusws/fileToss.jsp?arg=2ba38663aa11ff0f6ca91af6061a2e0034523ef1a7041f203eb940b0ff6980377d94e8960508b94b36e25aae0ce8d710342e3db4aa9f36178cdc5911d937b40b86ceb9c69e5123f6</DrawingPath><ThumbnailPath> http://plus.kipris.or.kr/kiprisplusws/fileToss.jsp?arg=ed43a0609e94d6e22d01c5c32ba711cfac019b9a5c7946ec58ddcb5b449eccbd19191c7891e1cd91be4a8d9a832bc6b1c13066fa7fd9b367dea377fd6aef09f68db6bea610db9dcf</ThumbnailPath><SerialNumber>2</SerialNumber><InventionName>급성 안면통증 예방 및 개선용 조성물</InventionName><InternationalpatentclassificationNumber>A23L 33/105|A61K 36/185|A61K 36/889|A61K 36/45</InternationalpatentclassificationNumber><OpeningDate></OpeningDate><OpeningNumber></OpeningNumber><PublicNumber></PublicNumber><PublicDate>20190130</PublicDate><RegistrationDate>20190124</RegistrationDate><RegistrationNumber>1019441130000</RegistrationNumber><RegistrationStatus>소멸</RegistrationStatus></PatentUtilityInfo><TotalSearchCount>1784</TotalSearchCount><SearchStartNumber>1</SearchStartNumber></items></body></response>', 


        '<?xml version="1.0" encoding="UTF-8"?><response><header><resultCode></resultCode><resultMsg></resultMsg></header><body><items><PatentUtilityInfo><Applicant>동의대학교 산학협력단</Applicant><ApplicationDate>20191231</ApplicationDate><ApplicationNumber>1020190179174</ApplicationNumber><Abstract>본 발명의 일 실시 예에 따른 건물 붕괴방지 시스템은 건물의 제 1 장소에 부착되어 가속도 데이터를 수집하기 위한 3축 가속도센서, 수집된 가속도 데이터를 분석하여 건물의 붕괴 여부를 판단하기 위한 제어부 및 판단 결과를 사용자 단말로 제공하는 알람생성부를 포함하고, 제어부는 가속도 데이터에 대한 주파수 변환 결과에 기초하여 생성된 주파수 이미지에 대하여 딥러닝 알고리즘에 기초하여 미리 학습된 결과에 따라 생성된 분석모델을 이용하여 건물의 붕괴 여부를 판단할 수 있다.</Abstract><DrawingPath> http://plus.kipris.or.kr/kiprisplusws/fileToss.jsp?arg=6c650beb4cee9ce4122b704b88878c93816c57cd6f41cea7d1306b3f594797039ef8a04e6b68fffd1a8385106cb40d792f638cd66f70e59d8e72756ccb5d018802e46cc297e7a7d9</DrawingPath><ThumbnailPath> http://plus.kipris.or.kr/kiprisplusws/fileToss.jsp?arg=ed43a0609e94d6e22d01c5c32ba711cff02b16313c36fac36964961e2549f5b045b75d9e06a94168248e6389288fccd7a97a2ad46648b3e2b7a25a1d1ba0df4e686741808088840d</ThumbnailPath><SerialNumber>1</SerialNumber><InventionName>건물 붕괴방지 시스템</InventionName><InternationalpatentclassificationNumber>G08B 21/18|G01P 15/00|G01S 17/88|G06N 3/044|G06N 3/0464|G06N 3/08</InternationalpatentclassificationNumber><OpeningDate>20210708</OpeningDate><OpeningNumber>1020210085761</OpeningNumber><PublicNumber></PublicNumber><PublicDate>20211111</PublicDate><RegistrationDate>20211108</RegistrationDate><RegistrationNumber>1023256560000</RegistrationNumber><RegistrationStatus>등록</RegistrationStatus></PatentUtilityInfo><PatentUtilityInfo><Applicant>동의대학교 산학협력단</Applicant><ApplicationDate>20120611</ApplicationDate><ApplicationNumber>1020120062108</ApplicationNumber><Abstract>본 발명은 동영상 부호화를 위한 움직임 추정을 위하여 깊이 카메라와 색상 카메라를 동시에 이용하여 배경영역과 객체영역을 효과적으로 분리하고, 객체영역에 대해서만 움직임을 추정하는 것에 의해 움직임 추정의 복잡도를 줄일 수 있도록 한 깊이 카메라를 이용한 움직임 추정 시스템 및 방법에 관한 것으로, 측정 대상체의 깊이 정보를 출력하는 깊이 카메라 및 측정 대상체의 색상 정보를 출력하는 색상 카메라;상기 깊이 카메라로부터 얻어진 거리 정보로 동영상내 객체 정보를 얻고, 화소들을 그룹화하여 동일한 객체로 라벨링을 수행하는 객체 라벨링부;상기 객체 라벨링부에 의해 라벨링된 현재 및 참조 화면 내에서 움직임 추정 블록을 나누어 탐색 영역을 판단하는 탐색 영역 판단부;상기 탐색 영역 판단부의 탐색 영역 판정 및 색상 카메라의 색상 정보를 이용하여 각각의 라벨링 화면내 블록의 탐색영역 판단에 근거하여 움직임 추정이 이루어지도록 움직임 평가척도 비교를 수행하는 평가척도 비교부;상기 평가척도 비교부의 움직임 평가척도 비교 결과에 따라 배경영역과 객체영역을 분리하고, 객체영역에 대해서만 움직임을 추정하는 움직임 벡터 추정부;를 포함하는 것이다.</Abstract><DrawingPath> http://plus.kipris.or.kr/kiprisplusws/fileToss.jsp?arg=2ba38663aa11ff0f6ca91af6061a2e00af8098d01ef617c42c8835e560a9c4e37a1641b80c489f9b8ca29e3cd58413e0c91755e8f44ea411bc2f90ebd3ef5398dd913970482ef420</DrawingPath><ThumbnailPath> http://plus.kipris.or.kr/kiprisplusws/fileToss.jsp?arg=ed43a0609e94d6e22d01c5c32ba711cfbe86d76417411e73f2a5b77e32e50c575af19c60b7265084c289ccec551d568ea9d1714de90a77a56ac4f072f4dfdc9d4c0dcf7f1545d8b1</ThumbnailPath><SerialNumber>2</SerialNumber><InventionName>깊이 카메라를 이용한 움직임 추정 시스템 및 방법</InventionName><InternationalpatentclassificationNumber>H04N 19/513|H04N 19/20|H04N 19/176</InternationalpatentclassificationNumber><OpeningDate></OpeningDate><OpeningNumber></OpeningNumber><PublicNumber></PublicNumber><PublicDate>20131205</PublicDate><RegistrationDate>20131127</RegistrationDate><RegistrationNumber>1013361390000</RegistrationNumber><RegistrationStatus>등록</RegistrationStatus></PatentUtilityInfo><TotalSearchCount>1784</TotalSearchCount><SearchStartNumber>3</SearchStartNumber></items></body></response>', 


        '<?xml version="1.0" encoding="UTF-8"?><response><header><resultCode></resultCode><resultMsg></resultMsg></header><body><items><PatentUtilityInfo><Applicant>동의대학교 산학협력단</Applicant><ApplicationDate>20170928</ApplicationDate><ApplicationNumber>1020170126044</ApplicationNumber><Abstract>본 발명에 따른 급성 안면통증 예방 및 개선용 조성물은 블랙 커런트(black currant, 카시스 베리) 추출물, 아사이베리(acaiberry) 추출물, 크렌베리(cranberry) 추출물, 블루베리(blueberry) 추출물 및 이들의 혼합물로 이루어진 군에서 선택된 베리류 추출물을 유효성분으로 포함하는 것이다. 본 발명의 유래의 급성 안면통증 예방 및 개선용 조성물에 의하면 급성 안면통증을 완화시킬 수 있다.</Abstract><DrawingPath> http://plus.kipris.or.kr/kiprisplusws/fileToss.jsp?arg=2ba38663aa11ff0f6ca91af6061a2e0034523ef1a7041f203eb940b0ff6980377d94e8960508b94b36e25aae0ce8d710342e3db4aa9f36178cdc5911d937b40b86ceb9c69e5123f6</DrawingPath><ThumbnailPath> http://plus.kipris.or.kr/kiprisplusws/fileToss.jsp?arg=ed43a0609e94d6e22d01c5c32ba711cfac019b9a5c7946ec58ddcb5b449eccbd19191c7891e1cd91be4a8d9a832bc6b1c13066fa7fd9b367dea377fd6aef09f68db6bea610db9dcf</ThumbnailPath><SerialNumber>1</SerialNumber><InventionName>급성 안면통증 예방 및 개선용 조성물</InventionName><InternationalpatentclassificationNumber>A23L 33/105|A61K 36/185|A61K 36/889|A61K 36/45</InternationalpatentclassificationNumber><OpeningDate></OpeningDate><OpeningNumber></OpeningNumber><PublicNumber></PublicNumber><PublicDate>20190130</PublicDate><RegistrationDate>20190124</RegistrationDate><RegistrationNumber>1019441130000</RegistrationNumber><RegistrationStatus>소멸</RegistrationStatus></PatentUtilityInfo><PatentUtilityInfo><Applicant>동의대학교 산학협력단</Applicant><ApplicationDate>20221230</ApplicationDate><ApplicationNumber>1020220190304</ApplicationNumber><Abstract>본 발명은 상판이 회전되는 지진대피용 책상에 대한 발명으로, 구체적으로 평상시에는 제1 상판이 책상의 기능을 수행하지만, 지진이 발생하였을 경우 제1 상판이 회전하여 낙하물의 파편에 의한 위험으로부터 대피자의 몸을 충분히 보호할 수 있게 되는 지진대피용 책상에 관한 발명이다.</Abstract><DrawingPath> http://plus.kipris.or.kr/kiprisplusws/fileToss.jsp?arg=6c650beb4cee9ce4122b704b88878c938826990045ec5c6d3f157225867559b21add52c78aef528459d5c482d26b0c9802350c761da27103b5a1b5aad6cb3d57f907d6271da46f5d</DrawingPath><ThumbnailPath> http://plus.kipris.or.kr/kiprisplusws/fileToss.jsp?arg=ed43a0609e94d6e22d01c5c32ba711cf66b532a156c4392b4b70f234fc58dad65edee41883694b7e36b612f56b1c1678f42ec19d24def8b3738c42c1790379e1c8b3163a8d7caf52</ThumbnailPath><SerialNumber>2</SerialNumber><InventionName>상판이 회전되는 지진대피용 책상</InventionName><InternationalpatentclassificationNumber>A47B 41/02|A47B 13/08|A47B 13/02</InternationalpatentclassificationNumber><OpeningDate>20240709</OpeningDate><OpeningNumber>1020240107552</OpeningNumber><PublicNumber></PublicNumber><PublicDate></PublicDate><RegistrationDate></RegistrationDate><RegistrationNumber></RegistrationNumber><RegistrationStatus>공개</RegistrationStatus></PatentUtilityInfo><TotalSearchCount>1784</TotalSearchCount><SearchStartNumber>1</SearchStartNumber></items></body></response>'
    ]
"""